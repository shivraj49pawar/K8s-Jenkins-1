pipeline {
  agent any
  stages {
    stage('Hello') {
      steps {
        writeFile(file: 'Hello.txt', text: 'Hi WP')
      }
    }

    stage('Read YAML') {
      steps {
        readFile 'pods.yml'
      }
    }

    stage('Run Yaml') {
      steps {
        withKubeConfig(caCertificate: 'LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMvakNDQWVhZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJeU1USXdOakV3TlRNek1sb1hEVE15TVRJd016RXdOVE16TWxvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTGhqCnJiTzVDQ0N1aUR6VnVQWFhCeVNXYy9XU3lKK2JTQlMxVUhSV2JQWC9uRHdnaVF6SWVTOGs3dTM5WnFDRjVNT3IKUTQ4SjVuYlZ3WFcwdVlxeVRnaFJrQVZsbDBweFFrc1Y3blFyQStkUmhaaGcwa1ZQOUdiK1ZyNGoxckRTOUxtQgo0YlhvaVFtK0I4OUJFNlBNck0ybFlRSytWR3VYWHpMYjVIeXRoNHZFZDhncWwxbzFwSDRxZy9KWTVOWHBaZVp0Cnd2cmNjU1JuRWEva1QzdXpLcEVJZjZiOXQzSEszaVZHRFdRTE1qTzlJYklYNXhWOWp4Yms1VXVSUWVvZ2Y0ZE4KMUkvN0hHdEZ1SDJkSFdLYnlSYnJXV2QwR2hGbFdZYmpnYUZiS05ycjFzRGhGK21kVVlZWEtXaVl0VGNCTlhnTApQVUcxRWg4YzZxZWlabmQyWWtVQ0F3RUFBYU5aTUZjd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZOazdZNW45bmFzN0hRL0hkNzMwYXowM29JMXdNQlVHQTFVZEVRUU8KTUF5Q0NtdDFZbVZ5Ym1WMFpYTXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBR1M1WEhGRU5ZTXd2Y01jbmVjOAp0L0UwUWpXaXRxQWpVOU00N2lGMTdCeTBGMXJCZTZKNmJSTmNla3pINVhqd1U4eDlLaEVacjBuSi9DeU81cm03CmR0RExkZDcwL3FDOXFyeE5sNXRNVFVlK0RCWU9lV01UNElIcVdDc0U4S0YwOXJ0NlJjclRJNFJjN1dqUVBDODgKemt6c1Rld1VyZTJOQlh1U3U5YWNYeUdXb09BQzNqOW5iTGRzZEtUWHBUZGs4V21YNEErbUFub3pJNmNsUGNnNApqQk9HcWM5M2hpK2ZudFg0WC9wQzIzN2RiRTNRaXpYYVRnRGNUNkhybmNJMFZFdGFUK2xQRlJYbEd2bktZMXVICnpnWTBLWmlZNTM1T1drdEFudzN4aG5XNmp6RHh4NlZqVVpXRytBVndmMzFTL242VVJnRXBLbU5yNUxldkVRbzEKQTQ4PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==', clusterName: 'kubernetes', serverUrl: ' https://192.168.1.41:6443', namespace: 'jenkiswp')
      }
    }

  }
}